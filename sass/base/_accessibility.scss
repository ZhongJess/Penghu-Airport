// ==========================================================================
// Accessibility (無障礙) 樣式
// ==========================================================================
@use 'variables' as var;

// 跳轉連結樣式 (Skip Links)
// .skip-link {
//   position: absolute;
//   top: -40px;
//   left: 6px;
//   background: var.$text-color;
//   color: var.$white;
//   padding: 8px;
//   text-decoration: none;
//   z-index: 1000;
//   transition: top 0.3s;
// }

// .skip-link:focus {
//   top: 6px;
// }

// .skip-link,
// .skip-main {
//   position: absolute;
//   top: -1000px;
//   left: 0;
//   background: var.$a11y-focus-color;
//   color: var.$black;
//   padding: 10px 20px;
//   z-index: 10000;
//   text-decoration: none;
//   font-weight: bold;

//   &:focus {
//     top: 0;
//     outline: 3px solid var.$black;
//   }
// }

// 全域聚焦樣式強化：確保在任何背景下都清晰可見
*:focus:not(:focus-visible) {
  outline: none; // 僅針對非鍵盤操作（如滑鼠點擊）移除預設框
}

*:focus-visible {

  outline: 3px solid var.$a11y-focus-color;
  outline-offset: 3px;
  box-shadow: 0 0 0 6px var.$white; // 增加白色外圈，確保在深色圖片上也能看清
}

// 高對比模式支援
@media (prefers-contrast: high) {
  * {
    border: 1px solid;
  }
}

// 減少動畫偏好
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// 螢幕閱讀器專用內容
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}





// 定義共用的基礎樣式
%skip-base {
  position: fixed;
  z-index: 10000;
  text-decoration: none;
  font-weight: bold;
  transition: all 0.3s ease;
  top: -100px; // 預設藏在上方
}

// 1. 主要內容跳轉 (像你截圖中的黃色大按鈕)
.skip-main {
  @extend %skip-base;
  left: 50%;
  transform: translateX(-50%);
  background: var.$a11y-focus-color;
  padding: 10px 30px;
  border-radius: 0 0 10px 10px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);

  &:focus {
    top: 0;
    outline: 3px solid var.$a11y-focus-color; // 使用你設定的藍色
  }
}

// 2. 快速鍵說明 (通常靠左側，比較小一點)
.skip-link {
  @extend %skip-base;
  left: 10px;
  background: var.$a11y-focus-color; // 使用你的藍色
  color: #fff;
  padding: 5px 15px;
  font-size: 0.9rem;

  &:focus {
    top: 0;
    outline: 2px solid var.$black; // 黑色外框
  }
}